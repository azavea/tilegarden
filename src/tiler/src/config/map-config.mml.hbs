name: Tilegarden Configuration
description: Carto MML file to configure Tilegarden settings
srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs
format: png

Stylesheet:
  - {{#if stylesheet }}{{ stylesheet }}{{else}}style.mss{{/if}}

Layer:
{{#each tables}}
- id: {{this.name}}
  name: {{this.name}}
  geometry: {{this.geometry}}
  srs: "{{this.srs}}"
  Datasource:
    host: ${TILEGARDEN_HOST}
    dbname: ${TILEGARDEN_DB}
    user: ${TILEGARDEN_USER}
    password: ${TILEGARDEN_PASSWORD}
    type: "postgis"
    table: "{{this.table}}"
    key_field: ""
    geometry_field: "geom"
    connect_timeout: 5
    persist_connection: false
{{/each}}
